"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const materialController_1 = require("../controllers/materialController");
const auth_1 = require("../middleware/auth");
const checkPer_1 = require("../middleware/checkPer");
const uploadController_1 = require("../controllers/uploadController");
const router = (0, express_1.Router)();
router.post('/create', auth_1.authenticate, (0, checkPer_1.checkPermission)('manage_groups'), materialController_1.createMaterial);
router.put('/:id', auth_1.authenticate, (0, checkPer_1.checkPermission)('manage_groups'), materialController_1.updateMaterial);
router.delete('/:id', auth_1.authenticate, (0, checkPer_1.checkPermission)('manage_groups'), materialController_1.deleteMaterial);
router.get('/details/:materialId', auth_1.authenticate, (0, checkPer_1.checkPermission)('view_material'), materialController_1.getMaterialDetails);
router.post('/image', auth_1.authenticate, (0, checkPer_1.checkPermission)('manage_groups'), uploadController_1.uploadImage);
router.post('/get-image', auth_1.authenticate, uploadController_1.getImage);
router.get('', auth_1.authenticate, (0, checkPer_1.checkPermission)('manage_groups'), materialController_1.getAllTeachersMaterials);
router.get('/student', auth_1.authenticate, materialController_1.getStudentMaterials);
router.post('/submit-material', auth_1.authenticate, (0, checkPer_1.checkPermission)('complete_task'), materialController_1.submitMaterial);
router.post('/save-as-template', auth_1.authenticate, (0, checkPer_1.checkPermission)('manage_groups'), materialController_1.saveAsTemplate);
router.get('/templates', auth_1.authenticate, (0, checkPer_1.checkPermission)('manage_groups'), materialController_1.getAllTemplates);
router.get('/progress/:studentId', materialController_1.getAllStudentProgress);
exports.default = router;
